<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_11) on Wed May 01 21:01:34 CDT 2013 -->
<title>RiskThresholds</title>
<meta name="date" content="2013-05-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RiskThresholds";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RiskThresholds.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/txstate/hearts/utils/ReadFiles.html" title="class in edu.txstate.hearts.utils"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/txstate/hearts/utils/RiskThresholds.html" target="_top">Frames</a></li>
<li><a href="RiskThresholds.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.txstate.hearts.utils</div>
<h2 title="Class RiskThresholds" class="title">Class RiskThresholds</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.txstate.hearts.utils.RiskThresholds</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">RiskThresholds</span>
extends java.lang.Object
implements java.io.Serializable</pre>
<div class="block">Class is designed to house risk thresholds and to track and
 store them for use between sessions.  The RiskThreshold class actually
 contains six different Threshold objects that are used for comparisons in
 various sitations:
 <li>First person playing and Queen Of Spades not played
 <li>Second person playing and Queen of Spades not played
 <li>Third person playing and Queen of Spades not played
 <li>First person playing and Queen of Spades has been played
 <li>Second person playing and Queen of Spades has been played
 <li>Third person playing and Queen of Spades has been played
 
 Internally, each Threshold is a double value between 0 and 10.  This value
 is converted to a value between 0 and 1 using the logistic function (1/(1+e^x))
 
 In this case, because we are using values between 0 and 10, it is actually
 1/1+e^(5-x)</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Jonathan Shelton</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../serialized-form.html#edu.txstate.hearts.utils.RiskThresholds">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a></strong></code>
<div class="block">Internal class for holding the actual threshold.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.html#serialVersionUID">serialVersionUID</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Integer,<a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.html#thresholdMap">thresholdMap</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.html#RiskThresholds()">RiskThresholds</a></strong>()</code>
<div class="block">Create the initial thresholds and stick them all into a map.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.html#decreaseThreshold(edu.txstate.hearts.utils.RiskThresholds.Threshold, int)">decreaseThreshold</a></strong>(<a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a>&nbsp;t,
                 int&nbsp;points)</code>
<div class="block">If I took any points, decrease the threshold to remove some of the risk.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a></code></td>
<td class="colLast"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.html#getThreshold(int, boolean)">getThreshold</a></strong>(int&nbsp;numPlayed,
            boolean&nbsp;qos)</code>
<div class="block">Get the appropriate threshold based on which player in the turn you are
 and whether or not the Queen of Spades has been played</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.html#increaseThreshold(edu.txstate.hearts.utils.RiskThresholds.Threshold)">increaseThreshold</a></strong>(<a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a>&nbsp;t)</code>
<div class="block">Increase the threshold to allow for more risk.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.html#increaseThreshold(edu.txstate.hearts.utils.RiskThresholds.Threshold, double)">increaseThreshold</a></strong>(<a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a>&nbsp;t,
                 double&nbsp;offset)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.html#logisticFunction(double)">logisticFunction</a></strong>(double&nbsp;x)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.html#logisticFunction2(double)">logisticFunction2</a></strong>(double&nbsp;x)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.html#toString()">toString</a></strong>()</code>
<div class="block">return each threshold and it's current values as a string</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#edu.txstate.hearts.utils.RiskThresholds.serialVersionUID">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="thresholdMap">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>thresholdMap</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.Integer,<a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a>&gt; thresholdMap</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RiskThresholds()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RiskThresholds</h4>
<pre>public&nbsp;RiskThresholds()</pre>
<div class="block">Create the initial thresholds and stick them all into a map.  This will
 only be used if the thresholds.bin file doesn't exist.  If it does, when
 an AgentAggressive is made, that will initialize these values using
 whatever is in that binary file.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">return each threshold and it's current values as a string</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">See Also:</span></dt><dd><code>Object.toString()</code></dd></dl>
</li>
</ul>
<a name="getThreshold(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getThreshold</h4>
<pre>public&nbsp;<a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a>&nbsp;getThreshold(int&nbsp;numPlayed,
                                    boolean&nbsp;qos)</pre>
<div class="block">Get the appropriate threshold based on which player in the turn you are
 and whether or not the Queen of Spades has been played</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the appropriate Threshold to use for this situation</dd></dl>
</li>
</ul>
<a name="increaseThreshold(edu.txstate.hearts.utils.RiskThresholds.Threshold)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increaseThreshold</h4>
<pre>public&nbsp;void&nbsp;increaseThreshold(<a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a>&nbsp;t)</pre>
<div class="block">Increase the threshold to allow for more risk.  The actual formula for
 how to increase the threshold by uses a reverse logistic:
 (1/(1+e^-(x-5)) / 100d+1) * threshold
 The logistic function of this should return a value between 0 and 1, 
 which is divided by 100 to get a value between 0 and .01. Add this value
 to one to multiply the current threshold by a number between 1 and 1.01.
 The idea of this is that the closer the threshold current threshold is
 to 0, the more we want to increase it by.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - the threshold to be increased</dd></dl>
</li>
</ul>
<a name="increaseThreshold(edu.txstate.hearts.utils.RiskThresholds.Threshold, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increaseThreshold</h4>
<pre>private&nbsp;void&nbsp;increaseThreshold(<a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a>&nbsp;t,
                     double&nbsp;offset)</pre>
</li>
</ul>
<a name="decreaseThreshold(edu.txstate.hearts.utils.RiskThresholds.Threshold, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decreaseThreshold</h4>
<pre>public&nbsp;void&nbsp;decreaseThreshold(<a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils">RiskThresholds.Threshold</a>&nbsp;t,
                     int&nbsp;points)</pre>
<div class="block">If I took any points, decrease the threshold to remove some of the risk.
 The actual formula for the change to the threshold:
 Math.pow((1-(1/(1+e^(5-x))/100)),pointsWon)*currentThreshold
 So working backwards, internally we are leveraging the logistic function
 to get a value between 0 and 1, which is divided by 100 to get a value
 between 0 and .01.  The closer the current threshold is to 0, the closer
 this value will be to 0, the closer it is to 10, the closer this will
 be to .01.  This value from 0 to .01 will be subtracted from 1 to
 yield a value between .99 and 1.  This value will then be taken to
 the power of however many points were won.  So in the worst case, if
 the current threshold had the maximum value of 10, it would net a value
 of .99 for the Math.pow.  The most points you could win in a single 
 hand is 16, so .99 would be taken to that, which yields the worst case
 scenario of approximately .8775 up to the maximum value of 1.  This
 value is multiplied by the current threshold, and the threshold is
 set to that value.
 If there were no points won, this method will actually do an increase
 threshold at half of the normal rate that a typical increase would be.
 Meaning that it won when it was risky, but it didn't hurt us, so increase
 the risk, but by only half as much as you would if you hadn't won with
 that card.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - the threshold to modify</dd><dd><code>points</code> - the number of points won in the trick</dd></dl>
</li>
</ul>
<a name="logisticFunction(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logisticFunction</h4>
<pre>private&nbsp;double&nbsp;logisticFunction(double&nbsp;x)</pre>
</li>
</ul>
<a name="logisticFunction2(double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logisticFunction2</h4>
<pre>private&nbsp;double&nbsp;logisticFunction2(double&nbsp;x)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RiskThresholds.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/txstate/hearts/utils/ReadFiles.html" title="class in edu.txstate.hearts.utils"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../edu/txstate/hearts/utils/RiskThresholds.Threshold.html" title="class in edu.txstate.hearts.utils"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/txstate/hearts/utils/RiskThresholds.html" target="_top">Frames</a></li>
<li><a href="RiskThresholds.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
